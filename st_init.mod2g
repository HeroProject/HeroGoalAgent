use dialogflow as knowledge.
use script as knowledge.
use dialogflow as actionspec.

module st_init {
	% Initialize state parameters.
	if true then
		insert(topics([]), currentState(s1), start, nextCondition('true'), userInput([]), branchingPointDecisions([])).
		% Adopt a list of topics that the agent will perform.
	if bel(topicOrder(Order)) then
		adopt(topics(Order)).
			
	% Retrieve first topic from adopted goal.
	if goal(topics([H | _])) then insert(currentTopic(H)).
	
	% If first state is a question state, initialize required properties
	if bel(currentTopic(T), currentState(S), state(T, S, question), keyValue(T, S, inputModalityOrder, Order), nth0(0, Order, NewModality)) 
			then insert(currentInputModality(NewModality), modalityCounter(0), currentAttempt(1), mcCounter(0)).
}