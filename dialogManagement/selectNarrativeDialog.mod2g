use '../util/*.pl' as knowledge.
use '../minidialogs/*.pl' as knowledge.
use '../minidialogs/co_creation/*.pl' as knowledge.
use '../minidialogs/robotstories/*.pl' as knowledge.
use '../minidialogs/hero/*.pl' as knowledge.
use '../minidialogs/hero/chitchat/*.pl' as knowledge.
use '../minidialogs/hero/narrative/*.pl' as knowledge.
use '../minidialogs/hero/functional/*.pl' as knowledge.
use '../minidialogs/hero/hospital/*.pl' as knowledge.
use '../minidialogs/hero/co_regulation/*.pl' as knowledge.
use '../minidialogs/hero/stories/*.pl' as knowledge.
use '../sessions' as knowledge.
use '../userModel/loadInteractantData' as module.
use '../hero_actions' as actionspec.

order=linear.

module selectNarrativeDialog(Thread, Pos, RemainingSessionElements) {
			if bel(minidialog(Minidialog, [type=narrative, thread=Thread, position=Pos]),
				dependencies(Minidialog, Dependencies), matchesDepencencies(Dependencies))
				then insert(selectedMinidialog(Minidialog, RemainingSessionElements)).
			
			if bel(minidialog(Minidialog, [type=narrative, thread=Thread, position=Pos]), not(dependencies(Minidialog, _)))
				then insert(selectedMinidialog(Minidialog, RemainingSessionElements)).
}